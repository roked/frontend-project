(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(33),i=n.n(s),o=n(39),u=n(10),l=n(7),j=n.n(l),d=n(5),h=n(11),p=n(12),b=n(55),O=n(9),x=n(13),f=n(2),m=n(14),v=n.n(m),g=n(18),S=n.n(g);function y(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,n=new Map;return n.set("Content-Type","application/json"),n.set("Authorization","Basic ".concat(S.a.encode("".concat(e,":").concat(t)))),n}function C(){return _.apply(this,arguments)}function _(){return(_=Object(h.a)(j.a.mark((function e(){var t,n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y(),n=new Headers(t),e.prev=2,a={method:"post",withCredentials:!0,credentials:"include",headers:n},e.next=6,v()("http://192.168.1.8:3001/api/property/show",a).then((function(e){return e.json().then((function(t){return{properties:t.properties,message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return 200===(r=e.sent).status&&(c=r.properties,Object.keys(c).forEach((function(e){c[e].image&&(r.properties[e].image="data:image/png;base64,".concat(c[e].image[0].img))}))),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var T=Object(u.g)((function(e){var t=function(e){return!!e.location.state&&e.location.state.user}(e),n=Object(r.useState)(!!t),c=Object(d.a)(n,1)[0],s=Object(r.useState)([]),i=Object(d.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)([]),m=Object(d.a)(l,2),v=m[0],g=m[1],S=Object(r.useState)([]),y=Object(d.a)(S,2),_=y[0],T=y[1];function E(e){var t=e.name;return Object(a.jsxs)(p.a.Text,{children:[" ",t.length>100?"".concat(t.substring(0,100),"..."):t," "]})}var w=Object(r.useState)(),k=Object(d.a)(w,2),P=k[0],N=k[1],R=Object(r.useState)(!1),A=Object(d.a)(R,2),H=A[0],D=A[1],L=Object(r.useState)(!1),F=Object(d.a)(L,2),B=F[0],W=F[1],I=Object(r.useState)(!1),U=Object(d.a)(I,2),K=U[0],q=U[1],G=Object(r.useState)(!1),V=Object(d.a)(G,2),M=V[0],J=V[1],z=Object(r.useState)(!1),Y=Object(d.a)(z,2),Q=Y[0],X=Y[1],Z=Object(r.useState)(),$=Object(d.a)(Z,2),ee=$[0],te=$[1];Object(r.useEffect)((function(){var e,t={garden:H,balcony:B,pool:K,barbeque:M,gym:Q};function n(){return(n=Object(h.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:200===(n=t.sent).status?(u(n.properties),0===_.length&&T(n.properties)):(e=Object(a.jsx)(O.a,{variant:"warning",children:Object(a.jsx)(O.a.Heading,{children:n.message})}),te(e));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}N(Object.values(t)),function(){n.apply(this,arguments)}(),0!==v.length&&("string"===v[0]?T([]):T(v))}),[H,B,K,M,Q,v,_.length]);var ne;c&&(ne=Object(a.jsx)(x.a,{onClick:function(){return function(){try{return e.history.push({pathname:"/property/new",state:{user:t}}),!0}catch(n){return!1}}()},variant:"info",children:"Sell Now!"}));return Object(a.jsxs)("div",{className:"container",children:[ee,Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)("h1",{className:"pageTitle",children:"Our active listings!"}),ne]}),Object(a.jsx)("div",{className:"my-2 filters",children:Object(a.jsxs)("div",{className:"checkBox",children:[Object(a.jsx)("h3",{children:"Filters"}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"garden",label:"Beautiful garden",onChange:function(e){return D(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"barbeque",label:"Barbeque",onChange:function(e){return W(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"pool",label:"Pool",onChange:function(e){return q(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"balcony",label:"Balcony",onChange:function(e){return J(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"gym",label:"Gym",onChange:function(e){return X(e.target.checked)}}),Object(a.jsx)(x.a,{className:"round",onClick:function(){return function(){if(P.every((function(e){return!e})))return g([]),void T(o);var e=[];o.map((function(t){var n=t.features;return Array.isArray(n)&&Array.isArray(P)&&n.length===P.length&&n.every((function(e,t){return e===P[t]}))&&e.push(t),!0})),0!==e.length?g(e):g(["string"])}()},variant:"success",children:"Filter"})]})}),Object(a.jsx)(b.a,{children:Object(a.jsx)("div",{className:"row",children:_.map((function(n,r){return Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsxs)(p.a,{className:"mb-3 homeCard",children:[Object(a.jsx)(p.a.Img,{variant:"top",src:n.image}),Object(a.jsxs)(p.a.Body,{children:[Object(a.jsx)(p.a.Title,{children:n.name}),Object(a.jsx)(E,{name:n.description})]}),Object(a.jsxs)(p.a.Footer,{children:[Object(a.jsxs)("big",{className:"text-muted",children:["Price:",n.price]}),Object(a.jsx)(x.a,{onClick:function(){return function(n){try{return e.history.push({pathname:"/property/".concat(n),state:{user:t}}),!0}catch(a){return!1}}(n._id)},variant:"info",children:"More Info"})]})]})},r)}))})})]})}));function E(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,n=new Map;return n.set("Content-Type","application/json"),n.set("Authorization","Basic ".concat(S.a.encode("".concat(e,":").concat(t)))),n}function w(e){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E(),a=new Headers(n),e.prev=2,r={method:"post",body:JSON.stringify(t),withCredentials:!0,credentials:"include",headers:a},e.next=6,v()("http://192.168.1.8:3001/api/user/login",r).then((function(e){return e.json().then((function(t){return{user:t.user,message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var P=Object(u.g)((function(e){var t,n=Object(r.useState)(""),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),l=u[0],p=u[1],b=Object(r.useState)(),m=Object(d.a)(b,2),v=m[0],g=m[1];return Object(a.jsxs)("div",{className:"container",children:[v,Object(a.jsx)("h1",{className:"pageTitle",children:"Nice to meet you seller. Let's get started!"}),Object(a.jsxs)(f.a,{onSubmit:function(n){n.preventDefault();var r={email:s,password:l};function c(){return(c=Object(h.a)(j.a.mark((function n(){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(r);case 3:if(200!==(c=n.sent).status){n.next=9;break}return t=Object(a.jsx)(O.a,{variant:"success",children:Object(a.jsx)(O.a.Heading,{children:c.message})}),g(t),e.history.push({pathname:"/",state:{user:c.user}}),n.abrupt("return",!0);case 9:return t=Object(a.jsx)(O.a,{variant:"danger",children:Object(a.jsx)(O.a.Heading,{children:c.message})}),g(t),n.abrupt("return",!1);case 14:return n.prev=14,n.t0=n.catch(0),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()},children:[Object(a.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(f.a.Label,{children:"Email address"}),Object(a.jsx)(f.a.Control,{type:"email",name:"email",value:s,onChange:function(e){return i(e.target.value)},placeholder:"Enter email",required:!0}),Object(a.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email and password with anyone else."}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Email empty or wrong!"})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",name:"password",value:l,onChange:function(e){return p(e.target.value)},placeholder:"Password",required:!0}),Object(a.jsx)(f.a.Text,{className:"text-muted",children:"Never share your password with anyone else!"}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Password empty or invalid!"})]}),Object(a.jsx)(x.a,{className:"round",variant:"primary",type:"submit",children:"Sign In!"})]})]})})),N=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("p",{children:"Fusce sollicitudin, libero id gravida placerat, augue nibh ornare augue, in ultrices magna tellus nec odio. Lorem ipsum dolor sit amet,consectetur adipiscing elit."})})})};function R(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,n=new Map;return n.set("Content-Type","application/json"),n.set("Authorization","Basic ".concat(S.a.encode("".concat(e,":").concat(t)))),n}function A(e){return H.apply(this,arguments)}function H(){return(H=Object(h.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(),a=new Headers(n),e.prev=2,r={method:"post",body:JSON.stringify(t),withCredentials:!0,credentials:"include",headers:a},e.next=6,v()("https://localhost:3001/register/",r).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var D,L=Object(u.g)((function(e){var t,n=Object(r.useState)(6),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),l=u[0],p=u[1],b=Object(r.useState)(""),m=Object(d.a)(b,2),v=m[0],g=m[1],S=Object(r.useState)(""),y=Object(d.a)(S,2),C=y[0],_=y[1],T=Object(r.useState)(""),E=Object(d.a)(T,2),w=E[0],k=E[1],P=Object(r.useState)(),N=Object(d.a)(P,2),R=N[0],H=N[1];return Object(r.useEffect)((function(){s||(H(),i(6));var e=setInterval((function(){i(s-1)}),1e3);return function(){return clearInterval(e)}}),[s]),Object(a.jsxs)("div",{className:"container",children:[R,Object(a.jsx)("h1",{className:"pageTitle",children:"First time here? You're have one more step!"}),Object(a.jsxs)(f.a,{onSubmit:function(n){n.preventDefault();var r={username:l,email:v,password:C,signUpCode:w};function c(){return(c=Object(h.a)(j.a.mark((function n(){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A(r);case 3:if(200!==(c=n.sent).status){n.next=9;break}return t=Object(a.jsx)(O.a,{variant:"success",children:Object(a.jsx)(O.a.Heading,{children:c.message})}),H(t),e.history.push("/login"),n.abrupt("return",!0);case 9:return t=Object(a.jsx)(O.a,{variant:"danger",children:Object(a.jsx)(O.a.Heading,{children:c.message})}),H(t),n.abrupt("return",!1);case 14:return n.prev=14,n.t0=n.catch(0),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()},children:[Object(a.jsxs)(f.a.Group,{controlId:"formBasicUsername",children:[Object(a.jsx)(f.a.Label,{children:"Username"}),Object(a.jsx)(f.a.Control,{type:"text",name:"username",value:l,onChange:function(e){return p(e.target.value)},placeholder:"Enter Username",required:!0}),Object(a.jsx)(f.a.Text,{className:"text-muted",children:"Choose a cool username. You will thank us later."}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid username."})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(f.a.Label,{children:"Email address"}),Object(a.jsx)(f.a.Control,{type:"email",name:"email",value:v,onChange:function(e){return g(e.target.value)},placeholder:"Enter email",required:!0}),Object(a.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email and password with anyone else."}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid email."})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",name:"password",value:C,onChange:function(e){return _(e.target.value)},placeholder:"Password",minLength:"8",maxLength:"20",required:!0}),Object(a.jsx)(f.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji."}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please choose a valid password."})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicSignUpCode",children:[Object(a.jsx)(f.a.Label,{children:"Sign-up Code"}),Object(a.jsx)(f.a.Control,{type:"text",name:"signUpCode",value:w,onChange:function(e){return k(e.target.value)},placeholder:"Sign-up code",minLength:"5",required:!0}),Object(a.jsx)(f.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Please provide your sign-up code."}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid sign-up code."})]}),Object(a.jsx)(f.a.Group,{children:Object(a.jsx)(f.a.Check,{required:!0,label:"Agree to terms and conditions",feedback:"You must agree before submitting."})}),Object(a.jsx)(x.a,{className:"round",variant:"primary",type:"submit",children:"Sign Up!"})]})]})})),F=n(34),B=n(22),W=n(30);function I(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,n=new Map;return n.set("Content-Type","application/json"),n.set("Authorization","Basic ".concat(S.a.encode("".concat(e,":").concat(t)))),n}function U(e){return K.apply(this,arguments)}function K(){return(K=Object(h.a)(j.a.mark((function e(t){var n,a,r,c,s,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),a=new Headers(n),r=["Beautiful garden","Barbeque","Pool","Balcony","Gym"],e.prev=3,c={method:"Get",withCredentials:!0,credentials:"include",headers:a},e.next=7,v()("https://localhost:3001/property/".concat(t,"/"),c).then((function(e){return e.json().then((function(t){return{property:t.property,message:t.message,status:e.status}})).then((function(e){return e}))}));case 7:if(200===(s=e.sent).status){for(s.property.image&&(D=s.property.image[0].filename,s.property.image="data:image/png;base64,".concat(s.property.image[0].img)),i=[],o=0;o<r.length;o+=1)s.property.features[o]&&i.push(r[o]);s.property.features=i}return e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function q(e){return G.apply(this,arguments)}function G(){return(G=Object(h.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),a=new Headers(n),e.prev=2,r={method:"delete",withCredentials:!0,credentials:"include",headers:a},e.next=6,v()("https://localhost:3001/property/delete/".concat(t,"/"),r).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function V(e){return M.apply(this,arguments)}function M(){return(M=Object(h.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),a=new Headers(n),e.prev=2,r={method:"post",body:JSON.stringify(t),withCredentials:!0,credentials:"include",headers:a},e.next=6,v()("https://localhost:3001/message/new/",r).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function J(e,t){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(j.a.mark((function e(t,n){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I(),r=new Headers(a),c=JSON.stringify(n),e.prev=3,s={method:"put",body:c,withCredentials:!0,credentials:"include",headers:r},e.next=7,v()("https://localhost:3001/property/show/".concat(t,"/"),s).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var Y=Object(u.g)((function(e){var t=function(e){return!!e.location.state&&e.location.state.user}(e),n=Object(r.useState)([]),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),l=Object(d.a)(o,2),b=l[0],m=l[1],v=Object(u.f)().id,g=Object(r.useState)(),S=Object(d.a)(g,2),y=S[0],C=S[1];Object(r.useEffect)((function(){var e;function t(){return(t=Object(h.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(v);case 2:200===(n=t.sent).status?i(n.property):(e=Object(a.jsx)(O.a,{variant:"danger",children:Object(a.jsx)(O.a.Heading,{children:n.message})}),C(e));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[v]);var _,T,E=function(e){var t;return e.features&&(t=e.features.map((function(e,t){return Object(a.jsx)(B.a,{children:e},t)}))),t}(s),w=function(n){var r;function c(){return(c=Object(h.a)(j.a.mark((function n(){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q(v);case 3:if(200!==(c=n.sent).status){n.next=7;break}return e.history.push({pathname:"/",state:{user:t}}),n.abrupt("return",!0);case 7:return r=Object(a.jsx)(O.a,{variant:"warning",children:Object(a.jsx)(O.a.Heading,{children:c.message})}),C(r),n.abrupt("return",!1);case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}n.preventDefault(),function(){c.apply(this,arguments)}()},k=function(n){try{return e.history.push({pathname:"/property/".concat(n.id,"/edit"),state:{user:t}}),!0}catch(a){return!1}},P=function(e){var t;e.preventDefault();var n=!!s.author&&s.author.username;function r(){return(r=Object(h.a)(j.a.mark((function e(){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={receiver:n,msg:b},e.next=3,V(r);case 3:200===(c=e.sent).status?(C(t),window.location.reload(!1),t=Object(a.jsx)(O.a,{variant:"success",children:Object(a.jsx)(O.a.Heading,{children:c.message})})):(t=Object(a.jsx)(O.a,{variant:"warning",children:Object(a.jsx)(O.a.Heading,{children:c.message})}),C(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()};return s.author&&t&&s.author.id===t._id?"Unpublished"===s.status?(T=Object(a.jsxs)("h1",{className:"pageTitle",children:["Hey",t.username,"! How are you today?"]}),_=Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{className:"mx-1",onClick:function(){return k({id:v})},variant:"warning",children:"Edit Property"}),Object(a.jsx)(x.a,{className:"mx-1",variant:"danger",onClick:w,children:"Delete"})]})):(T=Object(a.jsxs)("h1",{className:"pageTitle",children:["Hey",t.username,"! How are you today?"]}),_=Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{className:"mx-1",onClick:function(){return function(n){var r;function c(){return(c=Object(h.a)(j.a.mark((function c(){var i;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,J(n.id,s);case 3:if(200!==(i=c.sent).status){c.next=7;break}return e.history.push({pathname:"/",state:{user:t}}),c.abrupt("return",!0);case 7:return r=Object(a.jsx)(O.a,{variant:"warning",children:Object(a.jsx)(O.a.Heading,{children:i.message})}),C(r),c.abrupt("return",!1);case 12:return c.prev=12,c.t0=c.catch(0),c.abrupt("return",!1);case 15:case"end":return c.stop()}}),c,null,[[0,12]])})))).apply(this,arguments)}s.image=[D],s.status="Unpublished",function(){c.apply(this,arguments)}()}({id:v})},variant:"secondary",children:"Archive"}),Object(a.jsx)(x.a,{className:"mx-1",onClick:function(){return k({id:v})},variant:"warning",children:"Edit Property"}),Object(a.jsx)(x.a,{className:"mx-1",variant:"danger",onClick:w,children:"Delete"})]})):(T=Object(a.jsx)("h1",{className:"pageTitle",children:"We hope you like it!"}),_=Object(a.jsx)(W.a,{defaultActiveKey:"0",children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(p.a.Header,{children:Object(a.jsx)(W.a.Toggle,{as:x.a,variant:"info",eventKey:"1",children:"Contact Seller"})}),Object(a.jsx)(W.a.Collapse,{eventKey:"1",children:Object(a.jsxs)(f.a,{onSubmit:P,children:[Object(a.jsx)(f.a.Control,{name:"msg",onChange:function(e){return m(e.target.value)},required:!0,type:"text",as:"textarea",rows:"3",placeholder:"You have a nice..."}),Object(a.jsx)(x.a,{type:"submit",variant:"success",children:"Send"})]})})]})})),Object(a.jsxs)("div",{className:"container",children:[y,T,Object(a.jsxs)(p.a,{className:"singleCard",children:[Object(a.jsx)(p.a.Img,{variant:"top",src:s.image}),Object(a.jsx)(p.a.Body,{children:Object(a.jsx)(p.a.Title,{id:"cardTitle",children:s.name})}),Object(a.jsxs)(F.a,{className:"list-group-flush",children:[Object(a.jsxs)(B.a,{children:["Status:",s.status]}),Object(a.jsxs)(B.a,{children:["Category:",s.category]}),Object(a.jsxs)(B.a,{children:["Description:",s.description]}),Object(a.jsxs)(B.a,{children:["Features:",Object(a.jsx)(F.a,{className:"list-group-flush",children:E})]}),Object(a.jsxs)(B.a,{children:["Location:",s.location]})]}),Object(a.jsxs)(p.a.Footer,{children:[Object(a.jsxs)("big",{className:"text-muted",children:["Price:",s.price]}),_]})]})]})})),Q=n(15);function X(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(h.a)(j.a.mark((function e(t,n){var a,r,c,s,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,c=new FormData,t)for(s=0;s<t.length;s+=1)c.append("file",t[s]);return Object.keys(n).forEach((function(e){return c.append(e,n[e])})),(i=new Headers).set("Authorization","Basic ".concat(S.a.encode("".concat(a,":").concat(r))),"Accept","application/json"),e.prev=7,o={method:"post",body:c,withCredentials:!0,credentials:"include",headers:i},e.next=11,v()("https://localhost:3001/property/new/",o).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}var $=Object(u.g)((function(e){var t=function(e){return!!e.location.state&&e.location.state.user}(e),n=Object(r.useState)(""),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),l=u[0],p=u[1],b=Object(r.useState)(""),m=Object(d.a)(b,2),v=m[0],g=m[1],S=Object(r.useState)(""),y=Object(d.a)(S,2),C=y[0],_=y[1],T=Object(r.useState)(""),E=Object(d.a)(T,2),w=E[0],k=E[1],P=Object(r.useState)(),N=Object(d.a)(P,2),R=N[0],A=N[1],H=Object(r.useState)(),D=Object(d.a)(H,2),L=D[0],F=D[1],B=Object(r.useState)(""),W=Object(d.a)(B,2),I=W[0],U=W[1],K=Object(r.useState)(),q=Object(d.a)(K,2),G=q[0],V=q[1],M=Object(r.useState)(),J=Object(d.a)(M,2),z=J[0],Y=J[1],Z=Object(r.useState)(),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(r.useState)(),ae=Object(d.a)(ne,2),re=ae[0],ce=ae[1],se=Object(r.useState)(),ie=Object(d.a)(se,2),oe=ie[0],ue=ie[1],le=Object(r.useState)(),je=Object(d.a)(le,2),de=je[0],he=je[1];return Object(r.useEffect)((function(){var e={garden:G,balcony:z,pool:ee,barbeque:re,gym:oe};F(Object.values(e))}),[G,z,ee,re,oe]),Object(a.jsxs)("div",{className:"container",children:[de,Object(a.jsx)("h1",{className:"pageTitle",children:"Let's gather some information. Please complete the form!"}),Object(a.jsxs)(f.a,{onSubmit:function(n){n.preventDefault();var r={name:s,price:l,category:v,location:w,status:C,features:L,description:I};function c(){return(c=Object(h.a)(j.a.mark((function n(){var c,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,X(R,r);case 3:if(200!==(s=n.sent).status){n.next=7;break}return e.history.push({pathname:"/",state:{user:t}}),n.abrupt("return",!0);case 7:return c=Object(a.jsx)(O.a,{variant:"warning",children:Object(a.jsx)(O.a.Heading,{children:s.message})}),he(c),n.abrupt("return",!1);case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()},children:[Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationTitle",children:[Object(a.jsx)(f.a.Label,{children:"Title"}),Object(a.jsx)(f.a.Control,{name:"title",value:s,onChange:function(e){return i(e.target.value)},required:!0,type:"text",placeholder:"My Property"}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid title."})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationPrice",children:[Object(a.jsx)(f.a.Label,{children:"Price"}),Object(a.jsx)(f.a.Control,{name:"price",value:l,onChange:function(e){return p(e.target.value)},required:!0,type:"text",placeholder:"\xa330000"}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid price."})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"exampleForm.SelectCategory",children:[Object(a.jsx)(f.a.Label,{children:"Category"}),Object(a.jsxs)(f.a.Control,{name:"category",as:"select",value:v,onChange:function(e){return g(e.target.value)},custom:!0,required:!0,"data-testid":"select-one",children:[Object(a.jsx)("option",{children:"--Please Select--"}),Object(a.jsx)("option",{children:"Commercial"}),Object(a.jsx)("option",{children:"Terrace"}),Object(a.jsx)("option",{children:"Apartment"}),Object(a.jsx)("option",{children:"House"}),Object(a.jsx)("option",{children:"Castle"})]}),Object(a.jsx)(f.a.Control.Feedback,{children:"Looks good!"})]})]}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationLocation",children:[Object(a.jsx)(f.a.Label,{children:"Location"}),Object(a.jsx)(f.a.Control,{name:"location",value:w,onChange:function(e){return k(e.target.value)},type:"text",placeholder:"Postcode",required:!0}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid postcode."})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"exampleForm.SelectStatus",children:[Object(a.jsx)(f.a.Label,{children:"Status"}),Object(a.jsxs)(f.a.Control,{name:"status",as:"select",value:C,onChange:function(e){return _(e.target.value)},custom:!0,required:!0,"data-testid":"select-multiple",children:[Object(a.jsx)("option",{children:"--Please Select--"}),Object(a.jsx)("option",{children:"New"}),Object(a.jsx)("option",{children:"High Priority"}),Object(a.jsx)("option",{children:"Unpublished"})]}),Object(a.jsx)(f.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationFile",children:[Object(a.jsx)(f.a.Label,{children:"Attach Images"}),Object(a.jsx)(f.a.File,{"data-testid":"files-input",name:"images",defaultValue:R,onChange:function(e){return A(e.target.files)},multiple:!0})]})]}),Object(a.jsx)(f.a.Row,{children:Object(a.jsxs)(f.a.Group,{as:Q.a,md:"9",controlId:"validationCheck",children:[Object(a.jsx)(f.a.Label,{children:"Features"}),Object(a.jsxs)("div",{className:"checkBox",children:[Object(a.jsx)(f.a.Check,{name:"garden",label:"Beautiful garden",value:G,onChange:function(e){return V(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"barbeque",label:"Barbeque",value:re,onChange:function(e){return Y(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"pool",label:"Pool",value:ee,onChange:function(e){return te(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"balcony",label:"Balcony",value:z,onChange:function(e){return ce(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"gym",label:"Gym",value:oe,onChange:function(e){return ue(e.target.checked)}})]})]})}),Object(a.jsx)(f.a.Row,{children:Object(a.jsxs)(f.a.Group,{as:Q.a,md:"9",controlId:"validationDescription",children:[Object(a.jsx)(f.a.Label,{children:"Description"}),Object(a.jsx)(f.a.Control,{as:"textarea",name:"description",value:I,onChange:function(e){return U(e.target.value)},type:"textarea",placeholder:"This property has...",required:!0}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid description."})]})}),Object(a.jsx)(x.a,{className:"round",type:"submit",variant:"success",children:"Publish property!"})]})]})}));function ee(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,n=new Map;return n.set("Content-Type","application/json"),n.set("Authorization","Basic ".concat(S.a.encode("".concat(e,":").concat(t)))),n}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(h.a)(j.a.mark((function e(t){var n,a,r,c,s,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee(),a=new Headers(n),r=["Beautiful garden","Barbeque","Pool","Balcony","Gym"],e.prev=3,c={method:"Get",withCredentials:!0,credentials:"include",headers:a},e.next=7,v()("https://localhost:3001/property/show/".concat(t,"/edit/"),c).then((function(e){return e.json().then((function(t){return{property:t.property,message:t.message,status:e.status}})).then((function(e){return e}))}));case 7:if(200===(s=e.sent).status){for(i=[],o=0;o<r.length;o+=1)s.property.features[o]&&i.push(r[o]);s.property.features=i}return e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function ae(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(h.a)(j.a.mark((function e(t,n,a){var r,c,s,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ee(),c=new Headers(r),"string"!==typeof n){if(s=new FormData,n)for(i=0;i<n.length;i+=1)s.append("file",n[i]);Object.keys(a).forEach((function(e){return s.append(e,a[e])}))}else a.image=n,s=JSON.stringify(a);return e.prev=3,o={method:"put",body:s,withCredentials:!0,credentials:"include",headers:c},e.next=7,v()("https://localhost:3001/property/show/".concat(t,"/"),o).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var ce=Object(u.g)((function(e){var t=function(e){return!!e.location.state&&e.location.state.user}(e),n=Object(r.useState)([]),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(u.f)().id,l=Object(r.useState)(""),p=Object(d.a)(l,2),b=p[0],m=p[1],v=Object(r.useState)(""),g=Object(d.a)(v,2),S=g[0],y=g[1],C=Object(r.useState)(""),_=Object(d.a)(C,2),T=_[0],E=_[1],w=Object(r.useState)(""),k=Object(d.a)(w,2),P=k[0],N=k[1],R=Object(r.useState)(""),A=Object(d.a)(R,2),H=A[0],D=A[1],L=Object(r.useState)(),F=Object(d.a)(L,2),B=F[0],W=F[1],I=Object(r.useState)(),U=Object(d.a)(I,2),K=U[0],q=U[1],G=Object(r.useState)(""),V=Object(d.a)(G,2),M=V[0],J=V[1],z=Object(r.useState)(!1),Y=Object(d.a)(z,2),X=Y[0],Z=Y[1],$=Object(r.useState)(!1),ee=Object(d.a)($,2),ne=ee[0],re=ee[1],ce=Object(r.useState)(!1),se=Object(d.a)(ce,2),ie=se[0],oe=se[1],ue=Object(r.useState)(!1),le=Object(d.a)(ue,2),je=le[0],de=le[1],he=Object(r.useState)(!1),pe=Object(d.a)(he,2),be=pe[0],Oe=pe[1],xe=Object(r.useState)(),fe=Object(d.a)(xe,2),me=fe[0],ve=fe[1];Object(r.useEffect)((function(){var e;function t(){return(t=Object(h.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(o);case 2:200===(n=t.sent).status?i(n.property):(e=Object(a.jsx)(O.a,{variant:"warning",children:Object(a.jsx)(O.a.Heading,{children:n.message})}),ve(e));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var n={garden:X,balcony:ne,pool:ie,barbeque:je,gym:be};q(Object.values(n)),function(){t.apply(this,arguments)}(),!s.image||B&&0!==B.length||W(s.image[0])}),[o,X,ne,ie,je,be,B]);return Object(a.jsxs)("div",{className:"container",children:[me,Object(a.jsx)("h1",{className:"pageTitle",children:"Something new? Just click 'Update' when you are ready!"}),Object(a.jsxs)(f.a,{onSubmit:function(n){n.preventDefault();var r={name:b,price:S,category:T,location:H,status:P,features:K,description:M};function c(){return(c=Object(h.a)(j.a.mark((function n(){var c,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ae(o,B,r);case 3:200===(s=n.sent).status?e.history.push({pathname:"/",state:{user:t}}):(c=Object(a.jsx)(O.a,{variant:"warning",children:Object(a.jsx)(O.a.Heading,{children:s.message})}),ve(c)),n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",!1);case 10:return n.abrupt("return",!1);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}Object.keys(r).forEach((function(e){"features"===e?r[e]=K:""===r[e]&&(r[e]=s[e])})),function(){c.apply(this,arguments)}()},children:[Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationTitle",children:[Object(a.jsx)(f.a.Label,{children:"Title"}),Object(a.jsx)(f.a.Control,{name:"title",defaultValue:s.name,onChange:function(e){return m(e.target.value)},required:!0,type:"text",placeholder:"My Property"}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid title."})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationPrice",children:[Object(a.jsx)(f.a.Label,{children:"Price"}),Object(a.jsx)(f.a.Control,{name:"price",defaultValue:s.price,onChange:function(e){return y(e.target.value)},required:!0,type:"text",placeholder:"\xa330000"}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid price."})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"exampleForm.SelectCategory",children:[Object(a.jsx)(f.a.Label,{children:"Category"}),Object(a.jsxs)(f.a.Control,{name:"category",as:"select",defaultValue:s.category,onChange:function(e){return E(e.target.value)},custom:!0,required:!0,"data-testid":"select-one",children:[Object(a.jsx)("option",{children:"--Please Select--"}),Object(a.jsx)("option",{children:"Commercial"}),Object(a.jsx)("option",{children:"Terrace"}),Object(a.jsx)("option",{children:"Apartment"}),Object(a.jsx)("option",{children:"House"}),Object(a.jsx)("option",{children:"Castle"})]}),Object(a.jsx)(f.a.Control.Feedback,{children:"Looks good!"})]})]}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationLocation",children:[Object(a.jsx)(f.a.Label,{children:"Location"}),Object(a.jsx)(f.a.Control,{name:"location",defaultValue:s.location,onChange:function(e){return D(e.target.value)},type:"text",placeholder:"Postcode",required:!0}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid postcode."})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"exampleForm.SelectStatus",children:[Object(a.jsx)(f.a.Label,{children:"Status"}),Object(a.jsxs)(f.a.Control,{name:"status",as:"select",defaultValue:s.status,onChange:function(e){return N(e.target.value)},custom:!0,required:!0,"data-testid":"select-multiple",children:[Object(a.jsx)("option",{children:"--Please Select--"}),Object(a.jsx)("option",{children:"New"}),Object(a.jsx)("option",{children:"High Priority"}),Object(a.jsx)("option",{children:"Unpublished"})]}),Object(a.jsx)(f.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(f.a.Group,{as:Q.a,md:"3",controlId:"validationFile",children:[Object(a.jsx)(f.a.Label,{children:"Attach Images"}),Object(a.jsx)(f.a.File,{"data-testid":"files-input",name:"images",defaultValue:B,onChange:function(e){return W(e.target.files)},multiple:!0})]})]}),Object(a.jsx)(f.a.Row,{children:Object(a.jsxs)(f.a.Group,{as:Q.a,md:"9",controlId:"validationCheck",children:[Object(a.jsx)(f.a.Label,{children:"Features"}),Object(a.jsxs)("div",{className:"checkBox",children:[Object(a.jsx)(f.a.Check,{name:"garden",label:"Beautiful garden",onChange:function(e){return Z(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"barbeque",label:"Barbeque",onChange:function(e){return re(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"pool",label:"Pool",onChange:function(e){return oe(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"balcony",label:"Balcony",onChange:function(e){return de(e.target.checked)}}),Object(a.jsx)(f.a.Check,{name:"gym",label:"Gym",onChange:function(e){return Oe(e.target.checked)}})]})]})}),Object(a.jsx)(f.a.Row,{children:Object(a.jsxs)(f.a.Group,{as:Q.a,md:"9",controlId:"validationDescription",children:[Object(a.jsx)(f.a.Label,{children:"Description"}),Object(a.jsx)(f.a.Control,{as:"textarea",name:"description",defaultValue:s.description,onChange:function(e){return J(e.target.value)},type:"textarea",placeholder:"This property has...",required:!0}),Object(a.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please provide a valid description."})]})}),Object(a.jsx)(x.a,{className:"round",type:"submit",variant:"success",children:"Update!"})]})]})}));function se(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,n=new Map;return n.set("Content-Type","application/json"),n.set("Authorization","Basic ".concat(S.a.encode("".concat(e,":").concat(t)))),n}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(h.a)(j.a.mark((function e(t){var n,a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=se(),a=new Headers(n),e.prev=2,r={method:"post",body:JSON.stringify(t),withCredentials:!0,credentials:"include",headers:a},e.next=6,v()("https://localhost:3001/property/show",r).then((function(e){return e.json().then((function(t){return{properties:t.properties,message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return 200===(c=e.sent).status&&(s=c.properties,Object.keys(s).forEach((function(e){s[e].image&&(c.properties[e].image="data:image/png;base64,".concat(s[e].image[0].img))}))),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return(le=Object(h.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(),n=new Headers(t),e.prev=2,a={method:"get",withCredentials:!0,credentials:"include",headers:n},e.next=6,v()("https://localhost:3001/message/get/",a).then((function(e){return e.json().then((function(t){return{history:t.history,message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function je(e){return de.apply(this,arguments)}function de(){return(de=Object(h.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=se(),a=new Headers(n),e.prev=2,r={method:"delete",withCredentials:!0,credentials:"include",headers:a},e.next=6,v()("https://localhost:3001/message/".concat(t,"/"),r).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var he=Object(u.g)((function(e){var t,n=function(e){return!!e.location.state&&e.location.state.user}(e),c=Object(r.useState)([]),s=Object(d.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)([]),l=Object(d.a)(u,2),b=l[0],m=l[1],v=Object(r.useState)([]),g=Object(d.a)(v,2),S=g[0],y=g[1],C=Object(r.useState)([]),_=Object(d.a)(C,2),T=_[0],E=_[1],w=[],k=Object(r.useState)(),P=Object(d.a)(k,2),N=P[0],R=P[1],A=Object(r.useState)(!1),H=Object(d.a)(A,2),D=H[0],L=H[1],W=Object(r.useState)(!1),I=Object(d.a)(W,2),U=I[0],K=I[1],q=Object(r.useState)(!1),G=Object(d.a)(q,2),V=G[0],M=G[1],J=Object(r.useState)(!1),z=Object(d.a)(J,2),Y=z[0],Q=z[1],X=Object(r.useState)(!1),Z=Object(d.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)(),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ce=Object(r.useState)(),se=Object(d.a)(ce,2),oe=se[0],le=se[1];function de(e){var t=e.name;return Object(a.jsxs)(p.a.Text,{children:[" ",t.length>100?"".concat(t.substring(0,100),"..."):t," "]})}Object(r.useEffect)((function(){var e,t,r={garden:D,balcony:U,pool:V,barbeque:Y,gym:$};function c(){return(c=Object(h.a)(j.a.mark((function r(){var c,s,i;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={user:n},r.next=3,ie(c);case 3:return s=r.sent,r.next=6,ue();case 6:i=r.sent,200===s.status?(o(s.properties),0===S.length&&y(s.properties)):(e=Object(a.jsx)(O.a,{variant:"danger",children:Object(a.jsx)(O.a.Heading,{children:s.message})}),re(e)),200===i.status?E(i.history):(t=Object(a.jsx)(O.a,{variant:"danger",children:Object(a.jsx)(O.a.Heading,{children:i.message})}),le(t));case 9:case"end":return r.stop()}}),r)})))).apply(this,arguments)}R(Object.values(r)),function(){c.apply(this,arguments)}(),0!==b.length&&("string"===b[0]?y([]):y(b))}),[n,D,U,V,Y,$,b,S.length]);i&&(t=S.map((function(t){return Object(a.jsx)(B.a,{children:Object(a.jsxs)(p.a,{id:"cardTitle",children:[Object(a.jsx)(p.a.Img,{variant:"left",src:t.image}),Object(a.jsxs)(p.a.Body,{children:[Object(a.jsx)(p.a.Title,{children:t.name}),Object(a.jsx)(de,{name:t.description})]}),Object(a.jsxs)(p.a.Footer,{children:[Object(a.jsxs)("p",{className:"text-muted",children:["Price:",t.price]}),Object(a.jsx)(x.a,{onClick:function(){return function(t){try{return e.history.push({pathname:"/property/".concat(t),state:{user:n}}),!0}catch(a){return!1}}(t._id)},variant:"info",children:"More Info"})]})]})})})));0!==T.length&&T.forEach((function(e){w.push(e.msgs.map((function(t){return Object(a.jsx)(B.a,{children:Object(a.jsxs)(p.a,{id:"cardTitle",children:[Object(a.jsxs)(p.a.Body,{children:[Object(a.jsxs)(p.a.Title,{children:["Message:",t]}),Object(a.jsxs)("p",{children:["Sender:",e.sender]})]}),Object(a.jsx)(x.a,{variant:"danger",onClick:function(){return function(e){var t;function n(){return(n=Object(h.a)(j.a.mark((function n(){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je(e);case 3:if(200!==(r=n.sent).status){n.next=9;break}return t=Object(a.jsx)(O.a,{variant:"success",children:Object(a.jsx)(O.a.Heading,{children:r.message})}),le(t),window.location.reload(!1),n.abrupt("return",!0);case 9:return t=Object(a.jsx)(O.a,{variant:"danger",children:Object(a.jsx)(O.a.Heading,{children:r.message})}),le(t),n.abrupt("return",!1);case 14:return n.prev=14,n.t0=n.catch(0),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}(e._id)},children:"Delete"})]})})})))}));return Object(a.jsxs)("div",{className:"container",children:[ae,Object(a.jsxs)("h1",{className:"pageTitle",children:["Hey",n.username,"! Hope you are doing great!"]}),Object(a.jsxs)("div",{className:"userInfo row",children:[Object(a.jsx)("div",{className:"col-6 verticalLine",children:Object(a.jsxs)(F.a,{className:"list-group-flush",children:[Object(a.jsx)("h1",{children:"Your currently active listing"}),Object(a.jsx)("div",{className:"my-2",children:Object(a.jsxs)("div",{className:"checkBox",children:[Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"garden",label:"Beautiful garden",onChange:function(e){return L(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"barbeque",label:"Barbeque",onChange:function(e){return K(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"pool",label:"Pool",onChange:function(e){return M(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"balcony",label:"Balcony",onChange:function(e){return Q(e.target.checked)}}),Object(a.jsx)(f.a.Check,{className:"centerCheckbox",name:"gym",label:"Gym",onChange:function(e){return ee(e.target.checked)}}),Object(a.jsx)(x.a,{className:"round",onClick:function(){return function(){if(N.every((function(e){return!e})))return m([]),void y(i);var e=[];i.map((function(t){var n=t.features;return Array.isArray(n)&&Array.isArray(N)&&n.length===N.length&&n.every((function(e,t){return e===N[t]}))&&e.push(t),!0})),0!==e.length?m(e):m(["string"])}()},variant:"success",children:"Filter"})]})}),t]})}),Object(a.jsx)("div",{className:"col-6",children:Object(a.jsxs)(F.a,{className:"list-group-flush",children:[Object(a.jsx)("h1",{children:"Your messages"}),oe,w]})})]})]})})),pe=n(29),be=n(26);function Oe(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USERNAME,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD,n=new Map;return n.set("Content-Type","application/json"),n.set("Authorization","Basic ".concat(S.a.encode("".concat(e,":").concat(t)))),n}function xe(){return fe.apply(this,arguments)}function fe(){return(fe=Object(h.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Oe(),n=new Headers(t),e.prev=2,a={method:"get",withCredentials:!0,credentials:"include",headers:n},e.next=6,v()("https://program-nissan-3000.codio-box.uk/api/user/logout",a).then((function(e){return e.json().then((function(t){return{message:t.message,status:e.status}})).then((function(e){return e}))}));case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var me=Object(u.g)((function(e){var t,n,c=Object(r.useState)(6),s=Object(d.a)(c,2),i=s[0],o=s[1],u=function(e){return!!e.location.state&&e.location.state.user}(e),l=Object(r.useState)(!!u),p=Object(d.a)(l,2),b=p[0],x=p[1],f=Object(r.useRef)(!0),m=Object(r.useState)(),v=Object(d.a)(m,2),g=v[0],S=v[1];Object(r.useEffect)((function(){f.current?f.current=!1:x(u),i||(S(),o(6));var e=setInterval((function(){o(i-1)}),1e3);return function(){return clearInterval(e)}}),[u,i]);var y=function(){try{return S(),e.history.push({pathname:"/",state:{user:u}}),!0}catch(t){return!1}};t=b?Object(a.jsxs)(be.a,{className:"ml-auto",children:[Object(a.jsx)(be.a.Link,{onClick:function(){return function(){try{return S(),e.history.push({pathname:"/profile",state:{user:u}}),!0}catch(t){return!1}}()},children:"Profile"}),Object(a.jsx)(be.a.Link,{onClick:function(t){function r(){return(r=Object(h.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe();case 3:if(200!==(r=t.sent).status){t.next=10;break}return n=Object(a.jsx)(O.a,{variant:"success",children:Object(a.jsx)(O.a.Heading,{children:r.message})}),S(n),x(!1),e.history.push({pathname:"/login",state:{user:!1}}),t.abrupt("return",!0);case 10:return n=Object(a.jsx)(O.a,{variant:"danger",children:Object(a.jsx)(O.a.Heading,{children:r.message})}),S(n),t.abrupt("return",!1);case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}t.preventDefault(),function(){r.apply(this,arguments)}()},children:"Sign Out"})]}):Object(a.jsxs)(be.a,{className:"ml-auto",children:[Object(a.jsx)(be.a.Link,{onClick:function(){return function(){try{return S(),e.history.push({pathname:"/register"}),!0}catch(t){return!1}}()},children:"Sign Up"}),Object(a.jsx)(be.a.Link,{onClick:function(){return function(){try{return S(),e.history.push({pathname:"/login"}),!0}catch(t){return!1}}()},children:"Sign In"})]});var C=e.children;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(pe.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(a.jsx)(pe.a.Brand,{onClick:function(){return y()},children:"Real Estate Listing"}),Object(a.jsx)(pe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(pe.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsxs)(be.a,{className:"mr-auto",children:[Object(a.jsx)(be.a.Link,{onClick:function(){return y()},children:"Home"}),Object(a.jsx)(be.a.Link,{onClick:function(){return function(){try{return S(),e.history.push({pathname:"/about",state:{user:u}}),!0}catch(t){return!1}}()},children:"About"})]}),t]})]}),C,g]})})),ve=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(pe.a,{bg:"dark",fixed:"bottom",className:"flex justify-content-center",children:Object(a.jsx)("p",{id:"white",children:"Created by Mitko Donchev. \ud83d\ude0e"})})})};n(69);function ge(){return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(me,{}),Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/property/delete",children:Object(a.jsx)(T,{})}),Object(a.jsx)(u.a,{path:"/property/:id/edit",children:Object(a.jsx)(ce,{})}),Object(a.jsx)(u.a,{path:"/property/new",children:Object(a.jsx)($,{})}),Object(a.jsx)(u.a,{path:"/property/:id",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(u.a,{path:"/profile",children:Object(a.jsx)(he,{})}),Object(a.jsx)(u.a,{path:"/register",children:Object(a.jsx)(L,{})}),Object(a.jsx)(u.a,{path:"/about",children:Object(a.jsx)(N,{})}),Object(a.jsx)(u.a,{path:"/login",children:Object(a.jsx)(P,{})}),Object(a.jsx)(u.a,{path:"/",children:Object(a.jsx)(T,{})})]}),Object(a.jsx)(ve,{})]})}var Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(70);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ge,{})}),document.getElementById("root")),Se(console.log)}},[[71,1,2]]]);
//# sourceMappingURL=main.d330636b.chunk.js.map